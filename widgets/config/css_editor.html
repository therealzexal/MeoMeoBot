<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Editeur CSS Widget</title>
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="../../css/css-editor.css">
</head>

<body class="css-editor-body">
    <div class="css-editor-shell">
        <div class="css-editor-titlebar">
            <h2>Apparence <span id="widgetNameLabel">du tchat</span></h2>
            <button class="css-editor-close" id="close-btn" title="Fermer">‚úï</button>
        </div>

        <div class="css-editor-main">
            <div class="css-editor-left">
                <div class="theme-selector-row">
                    <div class="theme-selector-wrapper">

                        <select id="themeSelector" class="theme-selector-input">
                            <option value="">D√©faut</option>
                        </select>
                    </div>
                    <button id="importThemeBtn" class="btn btn-secondary" title="Importer un th√®me">üìÇ</button>
                    <button id="saveAsThemeBtn" class="btn btn-secondary"
                        title="Sauvegarder comme nouveau th√®me">üíæ</button>
                    <button id="editThemeConfigBtn" class="btn btn-secondary" title="Renommer les th√®mes">‚úèÔ∏è</button>
                    <button id="cssGuideBtn" class="btn btn-secondary" title="Afficher/Masquer le guide">üìñ</button>
                </div>
                <div class="css-editor-textarea-wrapper">
                    <label for="customCss">CSS Personnalis√©</label>
                    <div class="css-editor-textarea-container">
                        <textarea id="customCss" class="css-editor-textarea" spellcheck="false"></textarea>
                    </div>
                    <div id="maxMessagesRow" class="max-messages-row">
                        <label for="maxMessages">Nombre max de messages (chat)</label>
                        <input id="maxMessages" type="number" min="1" value="10" class="max-messages-input">
                    </div>
                    <div class="css-editor-actions">
                        <button class="btn btn-primary" id="save-btn">Appliquer au widget</button>
                        <button class="btn btn-secondary" id="reset-btn">Remettre par d√©faut</button>
                    </div>
                    <div class="css-editor-status" id="statusBar"></div>
                </div>
            </div>

            <div class="css-preview-block">
                <div id="preview-frame-wrapper">
                    <iframe id="preview-frame" title="widget preview"></iframe>
                </div>
            </div>

            <div id="cssGuidePanel" class="css-guide-panel" style="display: none;">
                <div class="css-guide-header">
                    <h3>Guide CSS : <span id="cssGuideWidgetName">Chat</span></h3>
                    <button id="closeCssGuideBtn" class="css-editor-close" title="Fermer le guide">‚úï</button>
                </div>
                <div class="theme-list-container">
                    <table class="css-guide-table">
                        <thead>
                            <tr>
                                <th>Classe</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody id="cssGuideBody"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div id="themeConfigModal" class="modal-overlay" style="display: none;">
        <div class="modal-content modal-content-lg">
            <h3>G√©rer les noms des th√®mes</h3>
            <p class="modal-description">
                Donnez des noms plus explicites √† vos fichiers de th√®mes.
            </p>
            <div id="themeListContainer" class="theme-list-container"></div>
            <div class="modal-actions">
                <button id="closeThemeConfigBtn" class="btn btn-secondary">Fermer</button>
                <button id="saveThemeConfigBtn" class="btn btn-primary">Enregistrer les noms</button>
            </div>
        </div>
    </div>

    <div id="newThemeModal" class="modal-overlay" style="display: none;">
        <div class="modal-content modal-content-md">
            <h3>Nouveau Th√®me</h3>
            <p class="modal-description">
                Entrez le nom de votre nouveau th√®me.
            </p>
            <input type="text" id="newThemeNameInput" placeholder="Nom du th√®me" class="new-theme-input">
            <div class="modal-actions">
                <button id="cancelNewThemeBtn" class="btn btn-secondary">Annuler</button>
                <button id="confirmNewThemeBtn" class="btn btn-primary">Cr√©er</button>
            </div>
        </div>
    </div>

    <script src="../../renderer/css_editor_renderer.js"></script>
</body>

</html>